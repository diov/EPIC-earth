package io.github.diov.epicearth

import androidx.room.Room
import androidx.test.InstrumentationRegistry
import androidx.test.runner.AndroidJUnit4
import io.github.diov.epicearth.data.ColorType
import io.github.diov.epicearth.data.EarthOption
import io.github.diov.epicearth.data.EarthOriginData
import io.github.diov.epicearth.data.ImageType
import io.github.diov.epicearth.data.dao.EarthData
import io.github.diov.epicearth.data.dao.EarthDataDao
import io.github.diov.epicearth.data.dao.EarthDatabase
import kotlinx.serialization.json.JSON
import kotlinx.serialization.list
import kotlinx.serialization.serializer
import org.junit.After
import org.junit.Before
import org.junit.Test
import org.junit.runner.RunWith

/**
 * Created by Dio_V on 2018/7/4.
 * Copyright Â© 2018 diov.github.io. All rights reserved.
 */

@RunWith(AndroidJUnit4::class)
class RoomInstrumentedTest {
    private var dataDao: EarthDataDao? = null
    private var database: EarthDatabase? = null

    @Before
    fun createDb() {
        val context = InstrumentationRegistry.getTargetContext()
        database = Room.inMemoryDatabaseBuilder(context, EarthDatabase::class.java).build()
        dataDao = database?.earthDataDao()
    }

    @After
    @Throws
    fun closeDb() {
        database?.close()
    }

    @Test
    @Throws
    fun writeUserAndReadInList() {
        val response = """
            [{"identifier":"20180630005516","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630005516","version":"02","centroid_coordinates":{"lat":18.584183,"lon":172.925277},"dscovr_j2000_position":{"x":-379312.391799,"y":1448190.595469,"z":505667.464451},"lunar_j2000_position":{"x":190118.442921,"y":-358765.940732,"z":5063.131424},"sun_j2000_position":{"x":-21072343.13591,"y":138188346.27602,"z":59905108.572518},"attitude_quaternions":{"q0":0.74995,"q1":-0.49212,"q2":-0.37105,"q3":0.24025},"date":"2018-06-30 00:50:27","coords":{"centroid_coordinates":{"lat":18.584183,"lon":172.925277},"dscovr_j2000_position":{"x":-379312.391799,"y":1448190.595469,"z":505667.464451},"lunar_j2000_position":{"x":190118.442921,"y":-358765.940732,"z":5063.131424},"sun_j2000_position":{"x":-21072343.13591,"y":138188346.27602,"z":59905108.572518},"attitude_quaternions":{"q0":0.74995,"q1":-0.49212,"q2":-0.37105,"q3":0.24025}}},{"identifier":"20180630020043","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630020043","version":"02","centroid_coordinates":{"lat":18.573315,"lon":156.544293},"dscovr_j2000_position":{"x":-380127.08745,"y":1448156.045557,"z":505409.328025},"lunar_j2000_position":{"x":193469.621128,"y":-356976.717175,"z":4717.948956},"sun_j2000_position":{"x":-21186272.930222,"y":138173858.66664,"z":59898823.999989},"attitude_quaternions":{"q0":0.75028,"q1":-0.49243,"q2":-0.3704,"q3":0.2396},"date":"2018-06-30 01:55:55","coords":{"centroid_coordinates":{"lat":18.573315,"lon":156.544293},"dscovr_j2000_position":{"x":-380127.08745,"y":1448156.045557,"z":505409.328025},"lunar_j2000_position":{"x":193469.621128,"y":-356976.717175,"z":4717.948956},"sun_j2000_position":{"x":-21186272.930222,"y":138173858.66664,"z":59898823.999989},"attitude_quaternions":{"q0":0.75028,"q1":-0.49243,"q2":-0.3704,"q3":0.2396}}},{"identifier":"20180630030611","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630030611","version":"02","centroid_coordinates":{"lat":18.562452,"lon":140.163295},"dscovr_j2000_position":{"x":-380941.580209,"y":1448121.183333,"z":505151.365625},"lunar_j2000_position":{"x":196802.792559,"y":-355154.761793,"z":4372.324984},"sun_j2000_position":{"x":-21300193.00011,"y":138159290.13332,"z":59892503.199994},"attitude_quaternions":{"q0":0.750682,"q1":-0.492642,"q2":-0.369726,"q3":0.238918},"date":"2018-06-30 03:01:23","coords":{"centroid_coordinates":{"lat":18.562452,"lon":140.163295},"dscovr_j2000_position":{"x":-380941.580209,"y":1448121.183333,"z":505151.365625},"lunar_j2000_position":{"x":196802.792559,"y":-355154.761793,"z":4372.324984},"sun_j2000_position":{"x":-21300193.00011,"y":138159290.13332,"z":59892503.199994},"attitude_quaternions":{"q0":0.750682,"q1":-0.492642,"q2":-0.369726,"q3":0.238918}}},{"identifier":"20180630041139","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630041139","version":"02","centroid_coordinates":{"lat":18.551599,"lon":123.786458},"dscovr_j2000_position":{"x":-381755.645832,"y":1448086.097737,"z":504893.625},"lunar_j2000_position":{"x":200116.795132,"y":-353300.673012,"z":4026.380503},"sun_j2000_position":{"x":-21414071.999841,"y":138144645.33335,"z":59886148.477711},"attitude_quaternions":{"q0":0.751,"q1":-0.49294,"q2":-0.3691,"q3":0.23827},"date":"2018-06-30 04:06:50","coords":{"centroid_coordinates":{"lat":18.551599,"lon":123.786458},"dscovr_j2000_position":{"x":-381755.645832,"y":1448086.097737,"z":504893.625},"lunar_j2000_position":{"x":200116.795132,"y":-353300.673012,"z":4026.380503},"sun_j2000_position":{"x":-21414071.999841,"y":138144645.33335,"z":59886148.477711},"attitude_quaternions":{"q0":0.751,"q1":-0.49294,"q2":-0.3691,"q3":0.23827}}},{"identifier":"20180630051707","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630051707","version":"02","centroid_coordinates":{"lat":18.540747,"lon":107.405436},"dscovr_j2000_position":{"x":-382569.700001,"y":1448050.8535,"z":504635.975},"lunar_j2000_position":{"x":203413.010389,"y":-351413.717344,"z":3679.971053},"sun_j2000_position":{"x":-21527967.484077,"y":138129912.69515,"z":59879759.035422},"attitude_quaternions":{"q0":0.75133,"q1":-0.49324,"q2":-0.36845,"q3":0.23762},"date":"2018-06-30 05:12:18","coords":{"centroid_coordinates":{"lat":18.540747,"lon":107.405436},"dscovr_j2000_position":{"x":-382569.700001,"y":1448050.8535,"z":504635.975},"lunar_j2000_position":{"x":203413.010389,"y":-351413.717344,"z":3679.971053},"sun_j2000_position":{"x":-21527967.484077,"y":138129912.69515,"z":59879759.035422},"attitude_quaternions":{"q0":0.75133,"q1":-0.49324,"q2":-0.36845,"q3":0.23762}}},{"identifier":"20180630062234","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630062234","version":"02","centroid_coordinates":{"lat":18.529901,"lon":91.024402},"dscovr_j2000_position":{"x":-383383.568813,"y":1448015.374286,"z":504378.48125},"lunar_j2000_position":{"x":206690.292158,"y":-349494.546322,"z":3333.217426},"sun_j2000_position":{"x":-21641849.958391,"y":138115091.94424,"z":59873334.586912},"attitude_quaternions":{"q0":0.7518,"q1":-0.49337,"q2":-0.36775,"q3":0.23694},"date":"2018-06-30 06:17:46","coords":{"centroid_coordinates":{"lat":18.529901,"lon":91.024402},"dscovr_j2000_position":{"x":-383383.568813,"y":1448015.374286,"z":504378.48125},"lunar_j2000_position":{"x":206690.292158,"y":-349494.546322,"z":3333.217426},"sun_j2000_position":{"x":-21641849.958391,"y":138115091.94424,"z":59873334.586912},"attitude_quaternions":{"q0":0.7518,"q1":-0.49337,"q2":-0.36775,"q3":0.23694}}},{"identifier":"20180630072736","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630072736","version":"02","centroid_coordinates":{"lat":18.519129,"lon":74.760126},"dscovr_j2000_position":{"x":-384197.007867,"y":1447979.509281,"z":504121.208798},"lunar_j2000_position":{"x":209925.167195,"y":-347557.345426,"z":2988.626846},"sun_j2000_position":{"x":-21755690.866975,"y":138100207.46667,"z":59866875.011574},"attitude_quaternions":{"q0":0.75214,"q1":-0.49366,"q2":-0.36709,"q3":0.23629},"date":"2018-06-30 07:23:13","coords":{"centroid_coordinates":{"lat":18.519129,"lon":74.760126},"dscovr_j2000_position":{"x":-384197.007867,"y":1447979.509281,"z":504121.208798},"lunar_j2000_position":{"x":209925.167195,"y":-347557.345426,"z":2988.626846},"sun_j2000_position":{"x":-21755690.866975,"y":138100207.46667,"z":59866875.011574},"attitude_quaternions":{"q0":0.75214,"q1":-0.49366,"q2":-0.36709,"q3":0.23629}}},{"identifier":"20180630083330","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630083330","version":"02","centroid_coordinates":{"lat":18.508225,"lon":58.266469},"dscovr_j2000_position":{"x":-385010.445116,"y":1447943.529526,"z":503864.025805},"lunar_j2000_position":{"x":213185.983912,"y":-345560.718506,"z":2638.895438},"sun_j2000_position":{"x":-21869549.554065,"y":138085240.07546,"z":59860382.555445},"attitude_quaternions":{"q0":0.752553,"q1":-0.49384,"q2":-0.366431,"q3":0.23561},"date":"2018-06-30 08:28:41","coords":{"centroid_coordinates":{"lat":18.508225,"lon":58.266469},"dscovr_j2000_position":{"x":-385010.445116,"y":1447943.529526,"z":503864.025805},"lunar_j2000_position":{"x":213185.983912,"y":-345560.718506,"z":2638.895438},"sun_j2000_position":{"x":-21869549.554065,"y":138085240.07546,"z":59860382.555445},"attitude_quaternions":{"q0":0.752553,"q1":-0.49384,"q2":-0.366431,"q3":0.23561}}},{"identifier":"20180630093858","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630093858","version":"02","centroid_coordinates":{"lat":18.497387,"lon":41.885399},"dscovr_j2000_position":{"x":-385823.707979,"y":1447907.295042,"z":503607.036075},"lunar_j2000_position":{"x":216404.611317,"y":-343545.924407,"z":2291.303556},"sun_j2000_position":{"x":-21983394.91076,"y":138070188.73861,"z":59853852.999996},"attitude_quaternions":{"q0":0.7529,"q1":-0.49418,"q2":-0.36572,"q3":0.23492},"date":"2018-06-30 09:34:09","coords":{"centroid_coordinates":{"lat":18.497387,"lon":41.885399},"dscovr_j2000_position":{"x":-385823.707979,"y":1447907.295042,"z":503607.036075},"lunar_j2000_position":{"x":216404.611317,"y":-343545.924407,"z":2291.303556},"sun_j2000_position":{"x":-21983394.91076,"y":138070188.73861,"z":59853852.999996},"attitude_quaternions":{"q0":0.7529,"q1":-0.49418,"q2":-0.36572,"q3":0.23492}}},{"identifier":"20180630104426","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630104426","version":"02","centroid_coordinates":{"lat":18.486558,"lon":25.504317},"dscovr_j2000_position":{"x":-386636.773245,"y":1447870.819731,"z":503350.16476},"lunar_j2000_position":{"x":219603.083301,"y":-341499.620162,"z":1943.497505},"sun_j2000_position":{"x":-22097229.055079,"y":138055051.54354,"z":59847290.619169},"attitude_quaternions":{"q0":0.75329,"q1":-0.49435,"q2":-0.36509,"q3":0.23428},"date":"2018-06-30 10:39:37","coords":{"centroid_coordinates":{"lat":18.486558,"lon":25.504317},"dscovr_j2000_position":{"x":-386636.773245,"y":1447870.819731,"z":503350.16476},"lunar_j2000_position":{"x":219603.083301,"y":-341499.620162,"z":1943.497505},"sun_j2000_position":{"x":-22097229.055079,"y":138055051.54354,"z":59847290.619169},"attitude_quaternions":{"q0":0.75329,"q1":-0.49435,"q2":-0.36509,"q3":0.23428}}},{"identifier":"20180630114953","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630114953","version":"02","centroid_coordinates":{"lat":18.475731,"lon":9.123223},"dscovr_j2000_position":{"x":-387449.658753,"y":1447834.077337,"z":503093.485374},"lunar_j2000_position":{"x":222781.086014,"y":-339421.975776,"z":1595.509417},"sun_j2000_position":{"x":-22211048.826767,"y":138039836.84166,"z":59840691.463157},"attitude_quaternions":{"q0":0.753627,"q1":-0.494626,"q2":-0.36443,"q3":0.233607},"date":"2018-06-30 11:45:05","coords":{"centroid_coordinates":{"lat":18.475731,"lon":9.123223},"dscovr_j2000_position":{"x":-387449.658753,"y":1447834.077337,"z":503093.485374},"lunar_j2000_position":{"x":222781.086014,"y":-339421.975776,"z":1595.509417},"sun_j2000_position":{"x":-22211048.826767,"y":138039836.84166,"z":59840691.463157},"attitude_quaternions":{"q0":0.753627,"q1":-0.494626,"q2":-0.36443,"q3":0.233607}}},{"identifier":"20180630125521","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630125521","version":"02","centroid_coordinates":{"lat":18.464924,"lon":-7.257882},"dscovr_j2000_position":{"x":-388262.145845,"y":1447797.032449,"z":502837.012483},"lunar_j2000_position":{"x":225938.336484,"y":-337313.197241,"z":1247.372131},"sun_j2000_position":{"x":-22324828.016566,"y":138024552.6615,"z":59834058.699203},"attitude_quaternions":{"q0":0.754044,"q1":-0.494807,"q2":-0.363752,"q3":0.232939},"date":"2018-06-30 12:50:32","coords":{"centroid_coordinates":{"lat":18.464924,"lon":-7.257882},"dscovr_j2000_position":{"x":-388262.145845,"y":1447797.032449,"z":502837.012483},"lunar_j2000_position":{"x":225938.336484,"y":-337313.197241,"z":1247.372131},"sun_j2000_position":{"x":-22324828.016566,"y":138024552.6615,"z":59834058.699203},"attitude_quaternions":{"q0":0.754044,"q1":-0.494807,"q2":-0.363752,"q3":0.232939}}},{"identifier":"20180630140049","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630140049","version":"02","centroid_coordinates":{"lat":18.454119,"lon":-23.634826},"dscovr_j2000_position":{"x":-389074.6875,"y":1447759.875,"z":502580.625},"lunar_j2000_position":{"x":229073.740453,"y":-335174.024241,"z":899.206762},"sun_j2000_position":{"x":-22438622,"y":138009184,"z":59827392},"attitude_quaternions":{"q0":0.754401,"q1":-0.495086,"q2":-0.363083,"q3":0.232246},"date":"2018-06-30 13:56:00","coords":{"centroid_coordinates":{"lat":18.454119,"lon":-23.634826},"dscovr_j2000_position":{"x":-389074.6875,"y":1447759.875,"z":502580.625},"lunar_j2000_position":{"x":229073.740453,"y":-335174.024241,"z":899.206762},"sun_j2000_position":{"x":-22438622,"y":138009184,"z":59827392},"attitude_quaternions":{"q0":0.754401,"q1":-0.495086,"q2":-0.363083,"q3":0.232246}}},{"identifier":"20180630150617","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630150617","version":"02","centroid_coordinates":{"lat":18.443314,"lon":-40.015953},"dscovr_j2000_position":{"x":-389887.039583,"y":1447722.334486,"z":502324.412761},"lunar_j2000_position":{"x":232188.589586,"y":-333003.5787,"z":550.868595},"sun_j2000_position":{"x":-22552405.066553,"y":137993728.00002,"z":59820687.229822},"attitude_quaternions":{"q0":0.754802,"q1":-0.495307,"q2":-0.362386,"q3":0.231553},"date":"2018-06-30 15:01:28","coords":{"centroid_coordinates":{"lat":18.443314,"lon":-40.015953},"dscovr_j2000_position":{"x":-389887.039583,"y":1447722.334486,"z":502324.412761},"lunar_j2000_position":{"x":232188.589586,"y":-333003.5787,"z":550.868595},"sun_j2000_position":{"x":-22552405.066553,"y":137993728.00002,"z":59820687.229822},"attitude_quaternions":{"q0":0.754802,"q1":-0.495307,"q2":-0.362386,"q3":0.231553}}},{"identifier":"20180630161145","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630161145","version":"02","centroid_coordinates":{"lat":18.432513,"lon":-56.397091},"dscovr_j2000_position":{"x":-390699.204167,"y":1447684.537922,"z":502068.354167},"lunar_j2000_position":{"x":235281.786677,"y":-330802.561249,"z":202.47888},"sun_j2000_position":{"x":-22666174.133384,"y":137978191.51938,"z":59813950.93333},"attitude_quaternions":{"q0":0.7552,"q1":-0.495518,"q2":-0.361702,"q3":0.23088},"date":"2018-06-30 16:06:56","coords":{"centroid_coordinates":{"lat":18.432513,"lon":-56.397091},"dscovr_j2000_position":{"x":-390699.204167,"y":1447684.537922,"z":502068.354167},"lunar_j2000_position":{"x":235281.786677,"y":-330802.561249,"z":202.47888},"sun_j2000_position":{"x":-22666174.133384,"y":137978191.51938,"z":59813950.93333},"attitude_quaternions":{"q0":0.7552,"q1":-0.495518,"q2":-0.361702,"q3":0.23088}}},{"identifier":"20180630171712","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630171712","version":"02","centroid_coordinates":{"lat":18.421715,"lon":-72.778239},"dscovr_j2000_position":{"x":-391511.232,"y":1447646.547333,"z":501812.46875},"lunar_j2000_position":{"x":238353.042248,"y":-328571.201,"z":-145.929781},"sun_j2000_position":{"x":-22779931.296128,"y":137962591.99999,"z":59807178.399996},"attitude_quaternions":{"q0":0.755505,"q1":-0.495815,"q2":-0.361085,"q3":0.230205},"date":"2018-06-30 17:12:24","coords":{"centroid_coordinates":{"lat":18.421715,"lon":-72.778239},"dscovr_j2000_position":{"x":-391511.232,"y":1447646.547333,"z":501812.46875},"lunar_j2000_position":{"x":238353.042248,"y":-328571.201,"z":-145.929781},"sun_j2000_position":{"x":-22779931.296128,"y":137962591.99999,"z":59807178.399996},"attitude_quaternions":{"q0":0.755505,"q1":-0.495815,"q2":-0.361085,"q3":0.230205}}},{"identifier":"20180630203335","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630203335","version":"02","centroid_coordinates":{"lat":18.389364,"lon":-121.917573},"dscovr_j2000_position":{"x":-393946.098499,"y":1447530.988676,"z":501045.783854},"lunar_j2000_position":{"x":247431.531493,"y":-321697.572884,"z":-1190.854304},"sun_j2000_position":{"x":-23121093.52954,"y":137915270.67244,"z":59786658.794216},"attitude_quaternions":{"q0":0.75663,"q1":-0.49651,"q2":-0.35906,"q3":0.22817},"date":"2018-06-30 20:28:47","coords":{"centroid_coordinates":{"lat":18.389364,"lon":-121.917573},"dscovr_j2000_position":{"x":-393946.098499,"y":1447530.988676,"z":501045.783854},"lunar_j2000_position":{"x":247431.531493,"y":-321697.572884,"z":-1190.854304},"sun_j2000_position":{"x":-23121093.52954,"y":137915270.67244,"z":59786658.794216},"attitude_quaternions":{"q0":0.75663,"q1":-0.49651,"q2":-0.35906,"q3":0.22817}}},{"identifier":"20180630213904","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630213904","version":"02","centroid_coordinates":{"lat":18.378591,"lon":-138.298761},"dscovr_j2000_position":{"x":-394757.29524,"y":1447491.851268,"z":500790.587886},"lunar_j2000_position":{"x":250412.149443,"y":-319346.820271,"z":-1539.012252},"sun_j2000_position":{"x":-23234767.438032,"y":137899352.32313,"z":59779747.546109},"attitude_quaternions":{"q0":0.75707,"q1":-0.49669,"q2":-0.35834,"q3":0.22747},"date":"2018-06-30 21:34:14","coords":{"centroid_coordinates":{"lat":18.378591,"lon":-138.298761},"dscovr_j2000_position":{"x":-394757.29524,"y":1447491.851268,"z":500790.587886},"lunar_j2000_position":{"x":250412.149443,"y":-319346.820271,"z":-1539.012252},"sun_j2000_position":{"x":-23234767.438032,"y":137899352.32313,"z":59779747.546109},"attitude_quaternions":{"q0":0.75707,"q1":-0.49669,"q2":-0.35834,"q3":0.22747}}},{"identifier":"20180630224431","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630224431","version":"02","centroid_coordinates":{"lat":18.367823,"lon":-154.675789},"dscovr_j2000_position":{"x":-395568.536189,"y":1447452.5625,"z":500535.507557},"lunar_j2000_position":{"x":253368.635394,"y":-316967.361147,"z":-1886.937409},"sun_j2000_position":{"x":-23348459.199959,"y":137883335.51226,"z":59772804.52838},"attitude_quaternions":{"q0":0.757372,"q1":-0.496998,"q2":-0.357701,"q3":0.226776},"date":"2018-06-30 22:39:42","coords":{"centroid_coordinates":{"lat":18.367823,"lon":-154.675789},"dscovr_j2000_position":{"x":-395568.536189,"y":1447452.5625,"z":500535.507557},"lunar_j2000_position":{"x":253368.635394,"y":-316967.361147,"z":-1886.937409},"sun_j2000_position":{"x":-23348459.199959,"y":137883335.51226,"z":59772804.52838},"attitude_quaternions":{"q0":0.757372,"q1":-0.496998,"q2":-0.357701,"q3":0.226776}}},{"identifier":"20180630234958","caption":"This image was taken by NASA's EPIC camera onboard the NOAA DSCOVR spacecraft","image":"epic_1b_20180630234958","version":"02","centroid_coordinates":{"lat":18.35706,"lon":-171.056997},"dscovr_j2000_position":{"x":-396379.628759,"y":1447412.894226,"z":500280.569161},"lunar_j2000_position":{"x":256302.231343,"y":-314558.176895,"z":-2234.774178},"sun_j2000_position":{"x":-23462137.448894,"y":137867239.10396,"z":59765822.484982},"attitude_quaternions":{"q0":0.75776,"q1":-0.49722,"q2":-0.35702,"q3":0.22609},"date":"2018-06-30 23:45:10","coords":{"centroid_coordinates":{"lat":18.35706,"lon":-171.056997},"dscovr_j2000_position":{"x":-396379.628759,"y":1447412.894226,"z":500280.569161},"lunar_j2000_position":{"x":256302.231343,"y":-314558.176895,"z":-2234.774178},"sun_j2000_position":{"x":-23462137.448894,"y":137867239.10396,"z":59765822.484982},"attitude_quaternions":{"q0":0.75776,"q1":-0.49722,"q2":-0.35702,"q3":0.22609}}}]
        """.trimIndent()
        val option = EarthOption(ColorType.NATURAL, ImageType.PNG)
        val list = JSON.nonstrict.parse(EarthOriginData::class.serializer().list, response)
        val map = list.map {
            EarthData.fromOriginData(it, option)
        }
        dataDao?.storeEarthData(*map.toTypedArray())
        val latestEarth = dataDao?.loadLatestEarth()
        assert(latestEarth != null && latestEarth.isNotEmpty())
    }
}
